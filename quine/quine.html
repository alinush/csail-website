<html>
<head><title>Quine in C: a self-printing program</title></head>

<body>

<h1>Quine in C: a self-printing program</h1>

<p>A <em>quine</em> is a program that prints its own source-code.</p>

<p>Quine's are sometimes assigned as homework problems in classes such as <em>Theory of Computation</em> for the instructor's amusement and, suprisingly, also the students'.</p>

<p>You can find out more about the logic behind quines by reading and understanding the Recursion Theorem in computability. See Prof. Michael Sipser's book <em>Introduction to the Theory of Computation, 3rd ed.</em>, at page 245, for a very nice explanation.</p>

<h2>Download</h2>
<p><a href="quine.c">quine.c</a><br />
<a href="Makefile">Makefile</a></p>

<h2>Source code below</h2>
<div style="border: 1px; padding: 5px; padding-top: 0px;">
<pre style='color:#000000;background:#ffffff; word-wrap: break-word;'>
<span style='color:#004a43; '>#</span><span style='color:#004a43; '>include </span><span style='color:#800000; '>&lt;</span><span style='color:#40015a; '>stdio.h</span><span style='color:#800000; '>></span>
<span style='color:#004a43; '>#</span><span style='color:#004a43; '>include </span><span style='color:#800000; '>&lt;</span><span style='color:#40015a; '>string.h</span><span style='color:#800000; '>></span>
<span style='color:#004a43; '>#</span><span style='color:#004a43; '>include </span><span style='color:#800000; '>&lt;</span><span style='color:#40015a; '>stdlib.h</span><span style='color:#800000; '>></span>

<span style='color:#800000; font-weight:bold; '>char</span> <span style='color:#808030; '>*</span> unescapeStr<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>char</span> <span style='color:#808030; '>*</span> s<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>

<span style='color:#800000; font-weight:bold; '>char</span> tape<span style='color:#808030; '>[</span><span style='color:#008c00; '>65536</span><span style='color:#808030; '>]</span><span style='color:#800080; '>;</span>

<span style='color:#800000; font-weight:bold; '>void</span> b<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>void</span><span style='color:#808030; '>)</span>
<span style='color:#800080; '>{</span>
	<span style='color:#603000; '>printf</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0f69ff; '>%s</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\n</span><span style='color:#0000e6; '>int main(int argc, char ** argv)</span><span style='color:#0f69ff; '>\n</span><span style='color:#0000e6; '>{</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>strcpy(tape, </span><span style='color:#0f69ff; '>\"</span><span style='color:#0f69ff; '>%s</span><span style='color:#0f69ff; '>\"</span><span style='color:#0000e6; '>);</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>b();</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>return 0;</span><span style='color:#0f69ff; '>\n</span><span style='color:#0000e6; '>}</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\n</span><span style='color:#0000e6; '>char * unescapeStr(char * s)</span><span style='color:#0f69ff; '>\n</span><span style='color:#0000e6; '>{</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>int l = strlen(s);</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>char * n = malloc(l * 2 + 1);</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>char * p = n;</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>for(int i = 0; i &lt; l; i++) {</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>switch(s[i])</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>{</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>case '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n':</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>*p++ = '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>';</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>*p++ = 'n';</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>break;</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>case '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t':</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>*p++ = '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>';</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>*p++ = 't';</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>break;</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>case '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>':</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>*p++ = '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>';</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>*p++ = '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>';</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>break;</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>case '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\"</span><span style='color:#0000e6; '>':</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>*p++ = '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>';</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>*p++ = '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\"</span><span style='color:#0000e6; '>';</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>break;</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>default:</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>*p++ = s[i];</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>break;</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>}</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>*p = 0;</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>}</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>return n;</span><span style='color:#0f69ff; '>\n</span><span style='color:#0000e6; '>}</span><span style='color:#0f69ff; '>\n</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span> tape<span style='color:#808030; '>,</span> unescapeStr<span style='color:#808030; '>(</span>tape<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
<span style='color:#800080; '>}</span>

<span style='color:#800000; font-weight:bold; '>int</span> <span style='color:#400000; '>main</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>int</span> argc<span style='color:#808030; '>,</span> <span style='color:#800000; font-weight:bold; '>char</span> <span style='color:#808030; '>*</span><span style='color:#808030; '>*</span> argv<span style='color:#808030; '>)</span>
<span style='color:#800080; '>{</span>
	<span style='color:#603000; '>strcpy</span><span style='color:#808030; '>(</span>tape<span style='color:#808030; '>,</span> <span style='color:#800000; '>"</span><span style='color:#0000e6; '>#include &lt;stdio.h></span><span style='color:#0f69ff; '>\n</span><span style='color:#0000e6; '>#include &lt;string.h></span><span style='color:#0f69ff; '>\n</span><span style='color:#0000e6; '>#include &lt;stdlib.h></span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\n</span><span style='color:#0000e6; '>char * unescapeStr(char * s);</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\n</span><span style='color:#0000e6; '>char tape[65536];</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\n</span><span style='color:#0000e6; '>void b(void)</span><span style='color:#0f69ff; '>\n</span><span style='color:#0000e6; '>{</span><span style='color:#0f69ff; '>\n</span><span style='color:#0f69ff; '>\t</span><span style='color:#0000e6; '>printf(</span><span style='color:#0f69ff; '>\"</span><span style='color:#0f69ff; '>%s</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>nint main(int argc, char ** argv)</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n{</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tstrcpy(tape, </span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\"</span><span style='color:#0f69ff; '>%s</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\"</span><span style='color:#0000e6; '>);</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tb();</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>treturn 0;</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n}</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>nchar * unescapeStr(char * s)</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n{</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tint l = strlen(s);</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tchar * n = malloc(l * 2 + 1);</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tchar * p = n;</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tfor(int i = 0; i &lt; l; i++) {</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tswitch(s[i])</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t{</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tcase '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n':</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t*p++ = '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>';</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t*p++ = 'n';</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tbreak;</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tcase '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t':</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t*p++ = '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>';</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t*p++ = 't';</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tbreak;</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tcase '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>':</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t*p++ = '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>';</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t*p++ = '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>';</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tbreak;</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tcase '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\"</span><span style='color:#0000e6; '>':</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t*p++ = '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>';</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t*p++ = '</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\\</span><span style='color:#0f69ff; '>\"</span><span style='color:#0000e6; '>';</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tbreak;</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tdefault:</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t*p++ = s[i];</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>tbreak;</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t}</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t*p = 0;</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>t}</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>treturn n;</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n}</span><span style='color:#0f69ff; '>\\</span><span style='color:#0000e6; '>n</span><span style='color:#0f69ff; '>\"</span><span style='color:#0000e6; '>, tape, unescapeStr(tape));</span><span style='color:#0f69ff; '>\n</span><span style='color:#0000e6; '>}</span><span style='color:#800000; '>"</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	b<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	<span style='color:#800000; font-weight:bold; '>return</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
<span style='color:#800080; '>}</span>

<span style='color:#800000; font-weight:bold; '>char</span> <span style='color:#808030; '>*</span> unescapeStr<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>char</span> <span style='color:#808030; '>*</span> s<span style='color:#808030; '>)</span>
<span style='color:#800080; '>{</span>
	<span style='color:#800000; font-weight:bold; '>int</span> l <span style='color:#808030; '>=</span> <span style='color:#603000; '>strlen</span><span style='color:#808030; '>(</span>s<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	<span style='color:#800000; font-weight:bold; '>char</span> <span style='color:#808030; '>*</span> n <span style='color:#808030; '>=</span> <span style='color:#603000; '>malloc</span><span style='color:#808030; '>(</span>l <span style='color:#808030; '>*</span> <span style='color:#008c00; '>2</span> <span style='color:#808030; '>+</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	<span style='color:#800000; font-weight:bold; '>char</span> <span style='color:#808030; '>*</span> p <span style='color:#808030; '>=</span> n<span style='color:#800080; '>;</span>
	<span style='color:#800000; font-weight:bold; '>for</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>int</span> i <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span> i <span style='color:#808030; '>&lt;</span> l<span style='color:#800080; '>;</span> i<span style='color:#808030; '>+</span><span style='color:#808030; '>+</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
		<span style='color:#800000; font-weight:bold; '>switch</span><span style='color:#808030; '>(</span>s<span style='color:#808030; '>[</span>i<span style='color:#808030; '>]</span><span style='color:#808030; '>)</span>
		<span style='color:#800080; '>{</span>
			<span style='color:#800000; font-weight:bold; '>case </span><span style='color:#0000e6; '>'\n'</span><span style='color:#e34adc; '>:</span>
				<span style='color:#808030; '>*</span>p<span style='color:#808030; '>+</span><span style='color:#808030; '>+</span> <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'\\'</span><span style='color:#800080; '>;</span>
				<span style='color:#808030; '>*</span>p<span style='color:#808030; '>+</span><span style='color:#808030; '>+</span> <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'n'</span><span style='color:#800080; '>;</span>
				<span style='color:#800000; font-weight:bold; '>break</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>case </span><span style='color:#0000e6; '>'\t'</span><span style='color:#e34adc; '>:</span>
				<span style='color:#808030; '>*</span>p<span style='color:#808030; '>+</span><span style='color:#808030; '>+</span> <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'\\'</span><span style='color:#800080; '>;</span>
				<span style='color:#808030; '>*</span>p<span style='color:#808030; '>+</span><span style='color:#808030; '>+</span> <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'t'</span><span style='color:#800080; '>;</span>
				<span style='color:#800000; font-weight:bold; '>break</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>case </span><span style='color:#0000e6; '>'\\'</span><span style='color:#e34adc; '>:</span>
				<span style='color:#808030; '>*</span>p<span style='color:#808030; '>+</span><span style='color:#808030; '>+</span> <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'\\'</span><span style='color:#800080; '>;</span>
				<span style='color:#808030; '>*</span>p<span style='color:#808030; '>+</span><span style='color:#808030; '>+</span> <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'\\'</span><span style='color:#800080; '>;</span>
				<span style='color:#800000; font-weight:bold; '>break</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>case </span><span style='color:#0000e6; '>'\"'</span><span style='color:#e34adc; '>:</span>
				<span style='color:#808030; '>*</span>p<span style='color:#808030; '>+</span><span style='color:#808030; '>+</span> <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'\\'</span><span style='color:#800080; '>;</span>
				<span style='color:#808030; '>*</span>p<span style='color:#808030; '>+</span><span style='color:#808030; '>+</span> <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'\"'</span><span style='color:#800080; '>;</span>
				<span style='color:#800000; font-weight:bold; '>break</span><span style='color:#800080; '>;</span>
<span style='color:#e34adc; '>			</span><span style='color:#800000; font-weight:bold; '>default</span><span style='color:#e34adc; '>:</span>
				<span style='color:#808030; '>*</span>p<span style='color:#808030; '>+</span><span style='color:#808030; '>+</span> <span style='color:#808030; '>=</span> s<span style='color:#808030; '>[</span>i<span style='color:#808030; '>]</span><span style='color:#800080; '>;</span>
				<span style='color:#800000; font-weight:bold; '>break</span><span style='color:#800080; '>;</span>
		<span style='color:#800080; '>}</span>
		<span style='color:#808030; '>*</span>p <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
	<span style='color:#800080; '>}</span>

	<span style='color:#800000; font-weight:bold; '>return</span> n<span style='color:#800080; '>;</span>
<span style='color:#800080; '>}</span>
</pre>
</div>

</body>
</html>
